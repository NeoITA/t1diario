import{f as S,c as C,o as P,t as B,b as I,w as U,a as E,l as N,F as W,r as q,h as G,m as j,n as $,p as g,q as x,s as J,v as Q,x as X,y as Y,z as T,A as Z,B as K,C as k,i as A,D as ee,E as ae,G as te,H as se,I as ne,J as re}from"#entry";import{_ as ce}from"./Cs_696ZS.js";const ie={class:"inline-flex items-center rounded-full border border-graywarm px-2 py-0.5 text-gray-700"},le=S({__name:"TagPill",props:{label:{}},setup(e){return(a,i)=>(P(),C("span",ie,B(e.label),1))}}),oe={class:"rounded-2xl border border-graywarm bg-white p-5 hover:shadow-md transition-shadow"},ue={class:"text-xl font-semibold"},de={key:0,class:"mt-1 text-gray-600"},fe={class:"mt-3 flex items-center gap-2 text-xs text-gray-500"},_e={key:0},he={key:1},me={class:"flex flex-wrap gap-1"},Be=S({__name:"PostCard",props:{title:{},description:{},to:{},date:{},tags:{}},setup(e){return(a,i)=>{const c=le,s=ce;return P(),C("article",oe,[I(s,{to:e.to,class:"block"},{default:U(()=>[E("h3",ue,B(e.title),1),e.description?(P(),C("p",de,B(e.description),1)):N("",!0),E("div",fe,[e.date?(P(),C("time",_e,B(new Date(e.date).toLocaleDateString()),1)):N("",!0),e.tags?.length?(P(),C("span",he,"â€¢")):N("",!0),E("div",me,[(P(!0),C(W,null,q(e.tags,_=>(P(),G(c,{key:_,label:_},null,8,["label"]))),128))])])]),_:1},8,["to"])])}}}),De={trailing:!0};function ve(e,a=25,i={}){if(i={...De,...i},!Number.isFinite(a))throw new TypeError("Expected `wait` to be a finite number");let c,s,_=[],n,t;const D=(l,h)=>(n=ye(e,l,h),n.finally(()=>{if(n=null,i.trailing&&t&&!s){const b=D(l,t);return t=null,b}}),n),v=function(...l){return i.trailing&&(t=l),n||new Promise(h=>{const b=!s&&i.leading;clearTimeout(s),s=setTimeout(()=>{s=null;const u=i.leading?c:D(this,l);t=null;for(const o of _)o(u);_=[]},a),b?(c=D(this,l),h(c)):_.push(h)})},r=l=>{l&&(clearTimeout(l),s=null)};return v.isPending=()=>!!s,v.cancel=()=>{r(s),_=[],t=null},v.flush=()=>{if(r(s),!t||n)return;const l=t;return t=null,D(this,l)},v}async function ye(e,a,i){return await e.apply(a,i)}const ge=e=>e==="defer"||e===!1;function Ve(...e){const a=typeof e[e.length-1]=="string"?e.pop():void 0;be(e[0],e[1])&&e.unshift(a);let[i,c,s={}]=e,_=!1;const n=j(()=>Q(i));if(typeof n.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof c!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const t=$();s.server??=!0,s.default??=Ce,s.getCachedData??=L,s.lazy??=!1,s.immediate??=!0,s.deep??=g.deep,s.dedupe??="cancel",s._functionName,t._asyncData[n.value];function D(){const u={cause:"initial",dedupe:s.dedupe};return t._asyncData[n.value]?._init||(u.cachedData=s.getCachedData(n.value,t,{cause:"initial"}),t._asyncData[n.value]=R(t,n.value,c,s,u.cachedData)),()=>t._asyncData[n.value].execute(u)}const v=D(),r=t._asyncData[n.value];r._deps++;const l=s.server!==!1&&t.payload.serverRendered;{let u=function(d){const f=t._asyncData[d];f?._deps&&(f._deps--,f._deps===0&&f?._off())};const o=ee();if(o&&l&&s.immediate&&!o.sp&&(o.sp=[]),o&&!o._nuxtOnBeforeMountCbs){o._nuxtOnBeforeMountCbs=[];const d=o._nuxtOnBeforeMountCbs;ae(()=>{d.forEach(f=>{f()}),d.splice(0,d.length)}),te(()=>d.splice(0,d.length))}const m=o&&(o._nuxtClientOnly||se(ne,!1));l&&t.isHydrating&&(r.error.value||r.data.value!=null)?(r.pending.value=!1,r.status.value=r.error.value?"error":"success"):o&&(!m&&t.payload.serverRendered&&t.isHydrating||s.lazy)&&s.immediate?o._nuxtOnBeforeMountCbs.push(v):s.immediate&&v();const y=X(),V=x(n,(d,f)=>{if((d||f)&&d!==f){_=!0;const O=t._asyncData[f]?.data.value!==g.value,z=t._asyncDataPromises[f]!==void 0,F={cause:"initial",dedupe:s.dedupe};if(!t._asyncData[d]?._init){let w;f&&O?w=t._asyncData[f].data.value:(w=s.getCachedData(d,t,{cause:"initial"}),F.cachedData=w),t._asyncData[d]=R(t,d,c,s,w)}t._asyncData[d]._deps++,f&&u(f),(s.immediate||O||z)&&t._asyncData[d].execute(F),re(()=>{_=!1})}},{flush:"sync"}),M=s.watch?x(s.watch,()=>{_||r._execute({cause:"watch",dedupe:s.dedupe})}):()=>{};y&&J(()=>{V(),M(),u(n.value)})}const h={data:p(()=>t._asyncData[n.value]?.data),pending:p(()=>t._asyncData[n.value]?.pending),status:p(()=>t._asyncData[n.value]?.status),error:p(()=>t._asyncData[n.value]?.error),refresh:(...u)=>t._asyncData[n.value]?._init?t._asyncData[n.value].execute(...u):D()(),execute:(...u)=>h.refresh(...u),clear:()=>H(t,n.value)},b=Promise.resolve(t._asyncDataPromises[n.value]).then(()=>h);return Object.assign(b,h),b}function p(e){return j({get(){return e()?.value},set(a){const i=e();i&&(i.value=a)}})}function be(e,a){return!(typeof e=="string"||typeof e=="object"&&e!==null||typeof e=="function"&&typeof a=="function")}function H(e,a){a in e.payload.data&&(e.payload.data[a]=void 0),a in e.payload._errors&&(e.payload._errors[a]=g.errorValue),e._asyncData[a]&&(e._asyncData[a].data.value=void 0,e._asyncData[a].error.value=g.errorValue,e._asyncData[a].pending.value=!1,e._asyncData[a].status.value="idle"),a in e._asyncDataPromises&&(e._asyncDataPromises[a]&&(e._asyncDataPromises[a].cancelled=!0),e._asyncDataPromises[a]=void 0)}function Pe(e,a){const i={};for(const c of a)i[c]=e[c];return i}function R(e,a,i,c,s){e.payload._errors[a]??=g.errorValue;const _=c.getCachedData!==L,n=i,t=c.deep?Y:T,D=s!=null,v=e.hook("app:data:refresh",async l=>{(!l||l.includes(a))&&await r.execute({cause:"refresh:hook"})}),r={data:t(D?s:c.default()),pending:T(!D),error:Z(e.payload._errors,a),status:T("idle"),execute:(...l)=>{const[h,b=void 0]=l,u=h&&b===void 0&&typeof h=="object"?h:{};if(e._asyncDataPromises[a]){if(ge(u.dedupe??c.dedupe))return e._asyncDataPromises[a];e._asyncDataPromises[a].cancelled=!0}if(u.cause==="initial"||e.isHydrating){const m="cachedData"in u?u.cachedData:c.getCachedData(a,e,{cause:u.cause??"refresh:manual"});if(m!=null)return e.payload.data[a]=r.data.value=m,r.error.value=g.errorValue,r.status.value="success",Promise.resolve(m)}r.pending.value=!0,r.status.value="pending";const o=new Promise((m,y)=>{try{m(n(e))}catch(V){y(V)}}).then(async m=>{if(o.cancelled)return e._asyncDataPromises[a];let y=m;c.transform&&(y=await c.transform(m)),c.pick&&(y=Pe(y,c.pick)),e.payload.data[a]=y,r.data.value=y,r.error.value=g.errorValue,r.status.value="success"}).catch(m=>{if(o.cancelled)return e._asyncDataPromises[a];r.error.value=k(m),r.data.value=A(c.default()),r.status.value="error"}).finally(()=>{o.cancelled||(r.pending.value=!1,delete e._asyncDataPromises[a])});return e._asyncDataPromises[a]=o,e._asyncDataPromises[a]},_execute:ve((...l)=>r.execute(...l),0,{leading:!0}),_default:c.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{v(),e._asyncData[a]?._init&&(e._asyncData[a]._init=!1),_||K(()=>{e._asyncData[a]?._init||(H(e,a),r.execute=()=>Promise.resolve(),r.data.value=g.value)})}};return r}const Ce=()=>g.value,L=(e,a,i)=>{if(a.isHydrating)return a.payload.data[e];if(i.cause!=="refresh:manual"&&i.cause!=="refresh:hook")return a.static.data[e]};export{Be as _,Ve as u};
